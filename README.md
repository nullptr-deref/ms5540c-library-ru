# Arduino-библиотека для датчика MS5540C

## Описание датчика

Данный датчик использует немного модифицированный протокол SPI. Главное его отличие в том, что датчик не имеет
шины SS/CS (Slave Select/Chip Select). Вместо этого датчик принимает 3 стартовых и 3 стоповых бита
до и после каждой управляющей последовательности.
Датчик способен работать на заявленной глубине до 100м.

## Пример кода

Данный простой пример иллюстрирует работу датчика ms5540c. Скетч считывает текущие температуру и давление
каждые три секунды.

```ino
#include <ms5540c.h>

const int mclk = 13; // Actually can be any digital pin you want.
ms5540c sensor(mclk);

void setup() {
    Serial.begin(9600);
    SPI.begin();
    sensor.init();
}

void loop() {
    sensor.reset();
    const float temp = sensor.getTemperature();
    const float prs = sensor.getPressure(UnitType::mbar);
    Serial.print("Temp: ");
    Serial.println(temp);
    Serial.print("Pressure: ");
    Serial.println(prs);
    delay(3000);
}
```

## Особенности подключения к микроконтроллеру

Прежде всего, библиотека использует аппаратную реалицазию протокола SPI, так что необходимо
соотнестись со схемой вывода конкретно вашего микроконтроллера, чтобы убедиться в том, что
ваш микроконтроллер поддерживает протокол и имеет выводы MISO/MOSI/SCK.
Также, на датчике есть вывод MCLK, который необходимо обязательно подключить к микроконтроллеру,
так что убедитесь, что у вас есть свободный вывод для подключения шины MCLK.
**Без подключения последнего ничего работать НЕ БУДЕТ. Вы предупреждены.**

Замечание: рекомендуется подключать последовательные шины через подтягивающие резисторы,
чтобы избавиться от шума на линии.

### Реальная тестовая схема выводов

| Шина | Вывод Arduino |
|------|---------------|
| MOSI |     D11       |
| MISO |     D12       |
| SCK  |     D13       |
| SS   |     ---       |
